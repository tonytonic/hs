<!DOCTYPE html>
<html lang="fr">
 <head>
  <meta charset="UTF-8">

  <title>simulateur heures suppl√©mentaires </title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- PWA -->
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#4FB3C2">

  <!-- iOS -->
<link rel="apple-touch-icon" href="/hs/apple-touch-icon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Compteur Heures & Paie">
    
  <style>
    .title {
  text-align: center;
  font-weight: 600;
  margin-top: 8px;
  color: #ffffff;
  font-size: 16px;
}
    body {
      margin: 0;
      background: #4FB3C2;
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      gap: 20px;
    }

    .btn {
      width: 220px;
      border-radius: 28px;
      overflow: hidden;
      box-shadow: 0 10px 25px rgba(0,0,0,.25);
      cursor: pointer;
      transition: transform .15s ease;
    }

    .btn:active {
      transform: scale(0.96);
    }

    .btn img {
      width: 100%;
      display: block;
    }

    footer {
  position: fixed;
  bottom: 10px;
  left: 0;
  width: 100%;
  text-align: center;
  font-size: 12px;
  color: rgba(255,255,255,0.8);
  pointer-events: none;
}
#backup-warning {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

.backup-box {
  background: #fff;
  color: #000;
  border-radius: 16px;
  padding: 20px;
  max-width: 340px;
  text-align: center;
  font-size: 14px;
}

.backup-box h2 {
  margin-top: 0;
}

.backup-box button {
  margin-top: 15px;
  padding: 10px 16px;
  border: none;
  border-radius: 12px;
  background: #4FB3C2;
  color: #fff;
  font-size: 14px;
}
.backup-advice {
  margin-top: 20px;
  font-size: 13px;
  color: #fff;
  text-align: center;
  opacity: 0.9;
  max-width: 320px;
}
.info-btn{
  background: transparent;
  border: 2px solid rgba(255,255,255,0.9);
  color: #fff;
  padding: 10px 18px;
  border-radius: 22px;
  font-size: 14px;
  cursor: pointer;
  transition: background .15s ease, color .15s ease, transform .1s ease;
}

.info-btn:active{
  transform: scale(0.96);
}

.info-btn:hover{
  background: rgba(255,255,255,0.15);
}
  </style>
</head>

<body>
  <div id="presentationPopup" style="
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.75);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:10000;
">
  <div style="
  background:#fff;
  color:#000;
  border-radius:16px;
  padding:20px;
  max-width:700px;
  max-height:80vh;
  overflow:auto;
  font-size:14px;
"
onclick="event.stopPropagation()">

  <h2>üì¶ Pr√©sentation du projet</h2>

  <p>
    <b>Simulateur d‚Äôheures suppl√©mentaires</b><br>
    √âcosyst√®me PWA ‚Äì D√©velopp√© par <b>C. Anthony</b>
  </p>

  <hr>

  <h3>üéØ Objectif du projet</h3>
  <p>
    Ce projet a pour objectif de fournir un <b>outil personnel fiable</b>
    permettant de suivre, comprendre et analyser les heures suppl√©mentaires,
    en s‚Äôappuyant sur les <b>principes g√©n√©raux du droit du travail</b>
    et sur la <b>r√©alit√© des pratiques de paie</b>.
  </p>

  <p>
    Il ne s‚Äôagit <b>pas</b> d‚Äôun logiciel de paie, mais d‚Äôun
    <b>outil d‚Äôaide √† la lecture, au suivi et √† la compr√©hension</b>,
    fonctionnant <b>sans serveur</b>, y compris <b>hors connexion</b>.
  </p>

  <h3>üß† Architecture g√©n√©rale</h3>
  <ul>
    <li><b>Index</b> : point d‚Äôentr√©e et redirection</li>
    <li><b>Menu central</b> : hub applicatif</li>
    <li><b>Module annuel</b> : logique RH / compteur l√©gal</li>
    <li><b>Module mensuel</b> : logique r√©elle de paie terrain</li>
    <li><b>PWA</b> : application installable et offline</li>
  </ul>

  <h3>üîπ Module 1 ‚Äî Compteur annuel</h3>
  <p>
    Le module annuel est con√ßu pour suivre les heures suppl√©mentaires
    dans une <b>logique RH</b>, proche du raisonnement l√©gal.
  </p>

  <ul>
    <li>Calcul hebdomadaire des heures</li>
    <li>Distinction heures travaill√©es / absences</li>
    <li>D√©clenchement des majorations 25 % et 50 %</li>
    <li>Reports automatiques de p√©riode</li>
    <li>Exports PDF et sauvegardes JSON</li>
  </ul>

  <h3>üîπ Module 2 ‚Äî Heures mensualis√©es</h3>
  <p>
    Le module mensuel reproduit la <b>logique r√©elle de paie</b>
    telle qu‚Äôelle est v√©cue par les salari√©s :
    cl√¥ture mensuelle, heures pay√©es et reliquats.
  </p>

  <ul>
    <li>D√©finition d‚Äôun dimanche de cl√¥ture</li>
    <li>Saisie quotidienne des heures</li>
    <li>Calcul automatique du reliquat</li>
    <li>Reports multi-mois et multi-ann√©es</li>
    <li>Zone financi√®re prot√©g√©e par code</li>
  </ul>

  <h3>üíæ Donn√©es & s√©curit√©</h3>
  <p>
    Les donn√©es sont stock√©es <b>exclusivement en local</b>
    sur l‚Äôappareil de l‚Äôutilisateur.
  </p>

  <ul>
    <li>Aucun serveur, aucune transmission externe</li>
    <li>Sauvegardes manuelles recommand√©es</li>
    <li>Snapshots automatiques</li>
    <li>Mode r√©cup√©ration en cas de crash</li>
  </ul>

  <h3>üì± Progressive Web App (PWA)</h3>
  <ul>
    <li>Application installable</li>
    <li>Fonctionnement hors connexion</li>
    <li>Cache ma√Ætris√© via Service Worker</li>
    <li>Compatibilit√© mobile et desktop</li>
  </ul>

  <h3>‚öñÔ∏è Cadre l√©gal & responsabilit√©</h3>
  <p>
    Cet outil est fourni <b>√† titre indicatif</b>.
    Les calculs peuvent diff√©rer de la r√©alit√© selon :
    la convention collective, les accords d‚Äôentreprise
    ou les pratiques internes.
  </p>

  <p>
    <b>Seuls les bulletins de paie et documents de l‚Äôemployeur font foi.</b>
  </p>

  <h3>üèÅ Conclusion</h3>
  <p>
    Ce projet constitue un <b>outil m√©tier personnel</b>,
    con√ßu avec une attention particuli√®re port√©e √† :
  </p>

  <ul>
    <li>la fiabilit√© des calculs</li>
    <li>la robustesse technique</li>
    <li>la clart√© pour l‚Äôutilisateur</li>
    <li>la responsabilit√© juridique</li>
  </ul>

  <p>
    Il s‚Äôinscrit dans une d√©marche professionnelle,
    orient√©e terrain et usage r√©el.
  </p>

  <button onclick="closePresentation()" style="
    margin-top:20px;
    padding:10px 16px;
    border:none;
    border-radius:12px;
    background:#4FB3C2;
    color:#fff;
    font-size:14px;
    width:100%;
  ">
    Fermer
  </button>

</div>
</div>
<!-- ‚ö†Ô∏è Avertissement sauvegarde (1 seule fois) -->
<div id="backup-warning">
  <div class="backup-box">
    <h2>‚ö†Ô∏è Avertissement important</h2>

    <p>
      Cette application enregistre les donn√©es <strong>localement sur votre appareil</strong>.
    </p>

    <p>
      En cas de suppression de l‚Äôapplication, nettoyage du navigateur ou changement d‚Äôappareil,
      <strong>les donn√©es peuvent √™tre perdues</strong>.
    </p>

    <p>
      üëâ Il est fortement recommand√© d‚Äôeffectuer des <strong>sauvegardes r√©guli√®res</strong>
      via les fonctions pr√©vues dans chaque module.
    </p>

    <button onclick="acceptBackupRisk()">J‚Äôaccepte ces risques</button>
  </div>
</div>
  <!-- ü¶ä Compteur annuel -->
<div class="btn" onclick="go('heures')">
  <img src="images/renard-annuel.png.jpg" alt="Compteur annuel">
  <div class="title">Simulateur de compteur annuel</div>
</div>

<!-- ü¶ä Paye mensuelle -->
<div class="btn" onclick="go('paye')">
  <img src="images/renard-mensuel.png.jpg" alt="Paye mensuelle">
  <div class="title">Simulateur d‚Äôheures mensualis√©es</div>
  </div>
<button class="info-btn"
        onclick="openPresentation()"
        aria-haspopup="dialog"
        aria-controls="presentationPopup">
  üìÑ Pr√©sentation du projet
</button>
<div class="backup-advice">
  üíæ <strong>Conseil sauvegarde</strong><br><br>
  Chaque module dispose de sa propre fonction de sauvegarde.<br>
  Pensez √† effectuer des <strong>exports r√©guliers</strong>
  (fin de mois, fin de p√©riode) afin d‚Äô√©viter toute perte de donn√©es.
</div>
  <footer>
    D√©velopp√© par C. Anthony
  </footer>

<script>
if ("serviceWorker" in navigator) {
  window.addEventListener("load", () => {
    navigator.serviceWorker.register("./sw.js")
      .then(() => console.log("Service Worker enregistr√©"))
      .catch(err => console.log("SW erreur", err));
  });
}
  const accepted = localStorage.getItem("backupWarningAccepted");

  if (accepted === "true") {
    document.getElementById("backup-warning").style.display = "none";
  }
function openPresentation(){
  document.getElementById("presentationPopup").style.display = "flex";
  document.body.style.overflow = "hidden";
}

function closePresentation(){
  document.getElementById("presentationPopup").style.display = "none";
  document.body.style.overflow = "";
}
  function acceptBackupRisk() {
    localStorage.setItem("backupWarningAccepted", "true");
    document.getElementById("backup-warning").style.display = "none";
  }
  
    function go(app) {
      localStorage.setItem("lastApp", app);
      window.location.href = app + "/index.html";
    }
  </script>

</body>
</html>
